#!/bin/bash

# List of Pokémon to fetch
pokemon_list=("Bulbasaur" "Ivysaur" "Venusaur" "Charmander" "Charmeleon")

# API base URL
base_url="https://pokeapi.co/api/v2/pokemon"

echo "Fetching Pokémon data in parallel..."

# Loop through each Pokémon and fetch in background
for pokemon in "${pokemon_list[@]}"; do
    {
        # Convert name to lowercase for API compatibility
        lowercase_name=$(echo "$pokemon" | tr '[:upper:]' '[:lower:]')

        # Fetch data from the API
        response=$(curl -s "${base_url}/${lowercase_name}")

        # Extract name, height, and weight using jq
        name=$(echo "$response" | jq -r '.name')
        height=$(echo "$response" | jq -r '.height')
        weight=$(echo "$response" | jq -r '.weight')

        # Convert to meters and kilograms
        formatted_height=$(awk "BEGIN {print $height/10}")
        formatted_weight=$(awk "BEGIN {print $weight/10}")

        echo "$name is ${formatted_height}m tall and weighs ${formatted_weight}kg."
    } &
done

# Wait for all background jobs to finish
wait

echo "✅ All Pokémon data retrieved."
