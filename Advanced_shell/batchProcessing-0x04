#!/bin/bash

# Pokémon list
POKEMONS=("Bulbasaur" "Ivysaur" "Venusaur" "Charmander" "Charmeleon")

# Array to store PIDs
PIDS=()

echo "Starting parallel Pokémon fetch..."

for POKEMON in "${POKEMONS[@]}"; do
    # Fetch data in background
    curl -s "https://pokeapi.co/api/v2/pokemon/${POKEMON,,}" > "${POKEMON}.json" &
    PID=$!
    PIDS+=($PID)
    echo "Fetching $POKEMON in background (PID: $PID)"
done

# Example: Kill the first process as a demonstration
echo "Killing process with PID: ${PIDS[0]}"
kill "${PIDS[0]}"

# Wait for all remaining processes
echo "Waiting for remaining processes to finish..."
wait

echo "All processes completed."
